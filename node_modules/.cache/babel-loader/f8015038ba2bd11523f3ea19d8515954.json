{"ast":null,"code":"import \"/app/node_modules/core-js/modules/es.array.iterator.js\";\nimport \"/app/node_modules/core-js/modules/es.promise.js\";\nimport \"/app/node_modules/core-js/modules/es.object.assign.js\";\nimport \"/app/node_modules/core-js/modules/es.promise.finally.js\";\n\nvar _this = this;\n\nimport \"core-js/modules/es.object.to-string.js\";\nimport Vue from \"vue\";\nimport App from \"./App.vue\";\nimport vuetify from \"./plugins/vuetify\";\nimport Axios from \"axios\";\nimport VueRouter from \"vue-router\";\nimport VueCookies from \"vue-cookies\";\nimport Vuex from \"vuex\";\nimport store from \"./store/store\";\nimport * as VeeValidate from \"vee-validate\";\nimport ja from \"vee-validate/dist/locale/ja\";\nimport { localize } from \"vee-validate\";\nimport router from \"./router/router\";\nVue.config.productionTip = false;\nlocalize(\"ja\", ja);\nVue.use(VeeValidate, {\n  locale: ja\n});\nVue.use(VueCookies);\nAxios.defaults.baseURL = process.env.NODE_ENV === \"production\" ? \"http://backend.habituation-quest.tk\" : \"http://localhost:3030\";\nrouter.beforeEach(function (to, from, next) {\n  _this.$cookies.get(); // isPublic でない場合(=認証が必要な場合)、かつ、ログインしていない場合\n\n\n  if (to.matched.some(function (record) {\n    return !record.meta.isPublic;\n  }) && !store.getters.getLoggedIn) {\n    // queryはログイン後の遷移などに使用できる\n    next({\n      path: \"/login\",\n      query: {\n        redirect: to.fullPath\n      }\n    }); // リロードした時は、クッキーがあればloggeInがtrueになるので、その前にこのif分が実行されるとだめ\n    // それまで待つにはどうすればいいか\n  } else {\n    next();\n  }\n});\nVue.config.productionTip = false;\nnew Vue({\n  vuetify: vuetify,\n  render: function render(h) {\n    return h(App);\n  },\n  router: router,\n  store: store\n}).$mount(\"#app\");","map":{"version":3,"sources":["/app/src/main.js"],"names":["Vue","App","vuetify","Axios","VueRouter","VueCookies","Vuex","store","VeeValidate","ja","localize","router","config","productionTip","use","locale","defaults","baseURL","process","env","NODE_ENV","beforeEach","to","from","next","$cookies","get","matched","some","record","meta","isPublic","getters","getLoggedIn","path","query","redirect","fullPath","render","h","$mount"],"mappings":";;;;;;;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,GAAP,MAAgB,WAAhB;AACA,OAAOC,OAAP,MAAoB,mBAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,UAAP,MAAuB,aAAvB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,OAAOC,KAAP,MAAkB,eAAlB;AACA,OAAO,KAAKC,WAAZ,MAA6B,cAA7B;AACA,OAAOC,EAAP,MAAe,6BAAf;AACA,SAASC,QAAT,QAAyB,cAAzB;AACA,OAAOC,MAAP,MAAmB,iBAAnB;AAEAX,GAAG,CAACY,MAAJ,CAAWC,aAAX,GAA2B,KAA3B;AACAH,QAAQ,CAAC,IAAD,EAAOD,EAAP,CAAR;AACAT,GAAG,CAACc,GAAJ,CAAQN,WAAR,EAAqB;AAAEO,EAAAA,MAAM,EAAEN;AAAV,CAArB;AAEAT,GAAG,CAACc,GAAJ,CAAQT,UAAR;AAEAF,KAAK,CAACa,QAAN,CAAeC,OAAf,GACEC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GACI,qCADJ,GAEI,uBAHN;AAKAT,MAAM,CAACU,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AACpC,EAAA,KAAI,CAACC,QAAL,CAAcC,GAAd,GADoC,CAEpC;;;AACA,MACEJ,EAAE,CAACK,OAAH,CAAWC,IAAX,CAAgB,UAACC,MAAD;AAAA,WAAY,CAACA,MAAM,CAACC,IAAP,CAAYC,QAAzB;AAAA,GAAhB,KACA,CAACxB,KAAK,CAACyB,OAAN,CAAcC,WAFjB,EAGE;AACA;AACAT,IAAAA,IAAI,CAAC;AAAEU,MAAAA,IAAI,EAAE,QAAR;AAAkBC,MAAAA,KAAK,EAAE;AAAEC,QAAAA,QAAQ,EAAEd,EAAE,CAACe;AAAf;AAAzB,KAAD,CAAJ,CAFA,CAGA;AACA;AACD,GARD,MAQO;AACLb,IAAAA,IAAI;AACL;AACF,CAdD;AAgBAxB,GAAG,CAACY,MAAJ,CAAWC,aAAX,GAA2B,KAA3B;AAEA,IAAIb,GAAJ,CAAQ;AACNE,EAAAA,OAAO,EAAPA,OADM;AAENoC,EAAAA,MAAM,EAAE,gBAACC,CAAD;AAAA,WAAOA,CAAC,CAACtC,GAAD,CAAR;AAAA,GAFF;AAGNU,EAAAA,MAAM,EAAEA,MAHF;AAINJ,EAAAA,KAAK,EAALA;AAJM,CAAR,EAKGiC,MALH,CAKU,MALV","sourcesContent":["import Vue from \"vue\";\nimport App from \"./App.vue\";\nimport vuetify from \"./plugins/vuetify\";\nimport Axios from \"axios\";\nimport VueRouter from \"vue-router\";\nimport VueCookies from \"vue-cookies\";\nimport Vuex from \"vuex\";\nimport store from \"./store/store\";\nimport * as VeeValidate from \"vee-validate\";\nimport ja from \"vee-validate/dist/locale/ja\";\nimport { localize } from \"vee-validate\";\nimport router from \"./router/router\";\n\nVue.config.productionTip = false;\nlocalize(\"ja\", ja);\nVue.use(VeeValidate, { locale: ja });\n\nVue.use(VueCookies);\n\nAxios.defaults.baseURL =\n  process.env.NODE_ENV === \"production\"\n    ? \"http://backend.habituation-quest.tk\"\n    : \"http://localhost:3030\";\n\nrouter.beforeEach((to, from, next) => {\n  this.$cookies.get()\n  // isPublic でない場合(=認証が必要な場合)、かつ、ログインしていない場合\n  if (\n    to.matched.some((record) => !record.meta.isPublic) &&\n    !store.getters.getLoggedIn\n  ) {\n    // queryはログイン後の遷移などに使用できる\n    next({ path: \"/login\", query: { redirect: to.fullPath } });\n    // リロードした時は、クッキーがあればloggeInがtrueになるので、その前にこのif分が実行されるとだめ\n    // それまで待つにはどうすればいいか\n  } else {\n    next();\n  }\n});\n\nVue.config.productionTip = false;\n\nnew Vue({\n  vuetify,\n  render: (h) => h(App),\n  router: router,\n  store,\n}).$mount(\"#app\");\n"]},"metadata":{},"sourceType":"module"}